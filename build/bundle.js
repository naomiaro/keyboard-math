var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function s(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function g(){return f("")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function b(t,e){t.value=null==e?"":e}function $(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let v;function w(t){v=t}const k=[],x=[],C=[],_=[],H=Promise.resolve();let L=!1;function K(t){C.push(t)}const A=new Set;let E=0;function W(){const t=v;do{for(;E<k.length;){const t=k[E];E++,w(t),M(t.$$)}for(w(null),k.length=0,E=0;x.length;)x.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];A.has(e)||(A.add(e),e())}C.length=0}while(k.length);for(;_.length;)_.pop()();L=!1,A.clear(),w(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const O=new Set;function R(t,e){t&&t.i&&(O.delete(t),t.i(e))}function j(t,n,i,l){const{fragment:c,on_mount:a,on_destroy:u,after_update:h}=t.$$;c&&c.m(n,i),l||K((()=>{const n=a.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]})),h.forEach(K)}function q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function S(t,e){-1===t.$$.dirty[0]&&(k.push(t),L||(L=!0,H.then(W)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,r,i,l,c,u,h,s=[-1]){const f=v;w(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:s,skip_bound:!1,root:r.target||f.$$.root};h&&h(d.root);let g=!1;if(d.ctx=i?i(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),g&&S(e,t)),n})):[],d.update(),g=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(a)}else d.fragment&&d.fragment.c();r.intro&&R(e.$$.fragment),j(e,r.target,r.anchor,r.customElement),W()}w(f)}class N{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function T(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function U(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function G(t){let e,n;return{c(){e=s("rect"),$(e,"fill","white"),$(e,"stroke","black"),m(e,"x",n=t[5]*t[11]),m(e,"y","0"),m(e,"width",t[5]),m(e,"height",t[3])},m(t,n){c(t,e,n)},p(t,o){32&o&&n!==(n=t[5]*t[11])&&m(e,"x",n),32&o&&m(e,"width",t[5]),8&o&&m(e,"height",t[3])},d(t){t&&a(e)}}}function V(t){let e,n;return{c(){e=s("rect"),$(e,"fill","black"),$(e,"stroke","black"),m(e,"x",n=t[7]*(t[11]+1)+t[4]*t[11]),m(e,"y","0"),m(e,"width",t[4]),m(e,"height",t[2])},m(t,n){c(t,e,n)},p(t,o){144&o&&n!==(n=t[7]*(t[11]+1)+t[4]*t[11])&&m(e,"x",n),16&o&&m(e,"width",t[4]),4&o&&m(e,"height",t[2])},d(t){t&&a(e)}}}function Z(t){let e,n;return{c(){e=s("rect"),$(e,"fill","black"),$(e,"stroke","black"),m(e,"x",n=3*t[5]+t[6]*(t[11]+1)+t[4]*t[11]),m(e,"y","0"),m(e,"width",t[4]),m(e,"height",t[2])},m(t,n){c(t,e,n)},p(t,o){112&o&&n!==(n=3*t[5]+t[6]*(t[11]+1)+t[4]*t[11])&&m(e,"x",n),16&o&&m(e,"width",t[4]),4&o&&m(e,"height",t[2])},d(t){t&&a(e)}}}function z(e){let n,o,r,i=Array(7),h=[];for(let t=0;t<i.length;t+=1)h[t]=G(U(e,i,t));let f=Array(2),d=[];for(let t=0;t<f.length;t+=1)d[t]=V(T(e,f,t));let p=Array(3),y=[];for(let t=0;t<p.length;t+=1)y[t]=Z(P(e,p,t));return{c(){n=s("svg");for(let t=0;t<h.length;t+=1)h[t].c();o=g();for(let t=0;t<d.length;t+=1)d[t].c();r=g();for(let t=0;t<y.length;t+=1)y[t].c();m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"xml:space","preserve"),m(n,"width",e[1]),m(n,"height",e[3])},m(t,i){c(t,n,i);for(let t=0;t<h.length;t+=1)h[t].m(n,null);l(n,o);for(let t=0;t<d.length;t+=1)d[t].m(n,null);l(n,r);for(let t=0;t<y.length;t+=1)y[t].m(n,null);e[8](n)},p(t,[e]){if(40&e){let r;for(i=Array(7),r=0;r<i.length;r+=1){const l=U(t,i,r);h[r]?h[r].p(l,e):(h[r]=G(l),h[r].c(),h[r].m(n,o))}for(;r<h.length;r+=1)h[r].d(1);h.length=i.length}if(148&e){let o;for(f=Array(2),o=0;o<f.length;o+=1){const i=T(t,f,o);d[o]?d[o].p(i,e):(d[o]=V(i),d[o].c(),d[o].m(n,r))}for(;o<d.length;o+=1)d[o].d(1);d.length=f.length}if(116&e){let o;for(p=Array(3),o=0;o<p.length;o+=1){const r=P(t,p,o);y[o]?y[o].p(r,e):(y[o]=Z(r),y[o].c(),y[o].m(n,null))}for(;o<y.length;o+=1)y[o].d(1);y.length=p.length}2&e&&m(n,"width",t[1]),8&e&&m(n,"height",t[3])},i:t,o:t,d(t){t&&a(n),u(h,t),u(d,t),u(y,t),e[8](null)}}}function I(t,e,n){let o,r,i,l,{octaveWidth:c=161}=e,{blackKeyHeight:a=80}=e,{whiteKeyHeight:u=120}=e,{svg:h}=e;return t.$$set=t=>{"octaveWidth"in t&&n(1,c=t.octaveWidth),"blackKeyHeight"in t&&n(2,a=t.blackKeyHeight),"whiteKeyHeight"in t&&n(3,u=t.whiteKeyHeight),"svg"in t&&n(0,h=t.svg)},t.$$.update=()=>{2&t.$$.dirty&&n(5,o=c/7),2&t.$$.dirty&&n(4,r=c/12),48&t.$$.dirty&&n(7,i=o-2*r/3),48&t.$$.dirty&&n(6,l=o-3*r/4)},[h,c,a,u,r,o,l,i,function(t){x[t?"unshift":"push"]((()=>{h=t,n(0,h)}))}]}class D extends N{constructor(t){super(),B(this,t,I,z,i,{octaveWidth:1,blackKeyHeight:2,whiteKeyHeight:3,svg:0})}}function F(t){let e,n,r,i,u,s,f,g,$,v,w,k,C,H,L,K,A,E,W,M,S,B,N,P,T,U,G,V,Z,z,I,F;function J(e){t[9](e)}let Q={octaveWidth:t[0],blackKeyHeight:t[1],whiteKeyHeight:t[2]};return void 0!==t[3]&&(Q.svg=t[3]),U=new D({props:Q}),x.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(U,"svg",J))),{c(){var t;e=h("main"),n=h("h1"),n.textContent="Piano Keyboard Math",r=d(),i=h("blockquote"),i.innerHTML='If you&#39;ve ever looked closely at a piano keyboard you may have noticed that\n    the widths of the white keys are not all the same at the back ends (where\n    they pass between the black keys). Of course, if you think about it for a\n    minute, it&#39;s clear they couldn&#39;t possibly all be the same width, assuming\n    the black keys are all identical (with non-zero width) and the white keys\n    all have equal widths at the front ends, because the only simultaneous\n    solution of 3W=3w+2b and 4W=4w+3b is with b=0.\n\n    <a href="https://www.mathpages.com/home/kmath043.htm">Read more about the math</a>',u=d(),s=h("div"),f=h("label"),f.textContent="Octave Width",g=d(),$=h("input"),v=d(),w=h("div"),k=h("label"),k.textContent="Black Key Height",C=d(),H=h("input"),L=d(),K=h("div"),A=h("label"),A.textContent="White Key Height",E=d(),W=h("input"),M=d(),S=h("div"),B=h("button"),B.textContent="Save SVG",N=d(),P=h("button"),P.textContent="Reset",T=d(),(t=U.$$.fragment)&&t.c(),V=d(),Z=h("a"),Z.innerHTML='<svg width="80" height="80" viewBox="0 0 250 250" style="fill: #151513; color: #fff; position: absolute; top: 0; border: 0; right: 0; " aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg>',m(i,"cite","https://www.mathpages.com/home/kmath043.htm"),m(i,"class","svelte-1qq4y74"),m(f,"for","octave_width"),m($,"id","octave_width"),m($,"type","number"),m(k,"for","black_keys"),m(H,"id","black_keys"),m(H,"type","number"),m(A,"for","white_keys"),m(W,"id","white_keys"),m(W,"type","number"),m(Z,"href","https://github.com/naomiaro/keyboard-math"),m(Z,"class","github-corner"),m(Z,"aria-label","View source on GitHub")},m(o,a){c(o,e,a),l(e,n),l(e,r),l(e,i),l(e,u),l(e,s),l(s,f),l(s,g),l(s,$),b($,t[0]),l(e,v),l(e,w),l(w,k),l(w,C),l(w,H),b(H,t[1]),l(e,L),l(e,K),l(K,A),l(K,E),l(K,W),b(W,t[2]),l(e,M),l(e,S),l(S,B),l(S,N),l(S,P),l(e,T),j(U,e,null),l(e,V),l(e,Z),z=!0,I||(F=[p($,"input",t[5]),p(H,"input",t[6]),p(W,"input",t[7]),p(B,"click",t[8]),p(P,"click",t[4])],I=!0)},p(t,[e]){1&e&&y($.value)!==t[0]&&b($,t[0]),2&e&&y(H.value)!==t[1]&&b(H,t[1]),4&e&&y(W.value)!==t[2]&&b(W,t[2]);const n={};var o;1&e&&(n.octaveWidth=t[0]),2&e&&(n.blackKeyHeight=t[1]),4&e&&(n.whiteKeyHeight=t[2]),!G&&8&e&&(G=!0,n.svg=t[3],o=()=>G=!1,_.push(o)),U.$set(n)},i(t){z||(R(U.$$.fragment,t),z=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(O.has(t))return;O.add(t),(void 0).c.push((()=>{O.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(U.$$.fragment,t),z=!1},d(t){t&&a(e),q(U),I=!1,o(F)}}}function J(t,e,n){let o,r=161,i=80,l=120;return[r,i,l,o,function(){n(0,r=161),n(1,i=80),n(2,l=120)},function(){r=y(this.value),n(0,r)},function(){i=y(this.value),n(1,i)},function(){l=y(this.value),n(2,l)},()=>function(t,e="download.svg"){const n=t.outerHTML,o=new Blob([n],{type:"image/svg+xml"}),r=URL.createObjectURL(o),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}(o),function(t){o=t,n(3,o)}]}return new class extends N{constructor(t){super(),B(this,t,J,F,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
