var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function s(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function g(){return f("")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function $(t,e){t.value=null==e?"":e}function b(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}let v;function w(t){v=t}const k=[],x=[],_=[],H=[],K=Promise.resolve();let A=!1;function C(t){_.push(t)}const E=new Set;let W=0;function L(){const t=v;do{for(;W<k.length;){const t=k[W];W++,w(t),O(t.$$)}for(w(null),k.length=0,W=0;x.length;)x.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];E.has(e)||(E.add(e),e())}_.length=0}while(k.length);for(;H.length;)H.pop()();A=!1,E.clear(),w(t)}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const R=new Set;function j(t,e){t&&t.i&&(R.delete(t),t.i(e))}function q(t,n,r,c){const{fragment:l,on_mount:u,on_destroy:a,after_update:h}=t.$$;l&&l.m(n,r),c||C((()=>{const n=u.map(e).filter(i);a?a.push(...n):o(n),t.$$.on_mount=[]})),h.forEach(C)}function S(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function M(t,e){-1===t.$$.dirty[0]&&(k.push(t),A||(A=!0,K.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function N(e,i,r,c,l,a,h,s=[-1]){const f=v;w(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:n(),dirty:s,skip_bound:!1,root:i.target||f.$$.root};h&&h(d.root);let g=!1;if(d.ctx=r?r(e,i.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),g&&M(e,t)),n})):[],d.update(),g=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();i.intro&&j(e.$$.fragment),q(e,i.target,i.anchor,i.customElement),L()}w(f)}class P{$destroy(){S(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function U(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function B(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function T(t,e,n){const o=t.slice();return o[9]=e[n],o[11]=n,o}function z(t){let e,n;return{c(){e=s("rect"),b(e,"fill","white"),b(e,"stroke","black"),m(e,"x",n=t[5]*t[11]),m(e,"y","0"),m(e,"width",t[5]),m(e,"height",t[3])},m(t,n){l(t,e,n)},p(t,o){32&o&&n!==(n=t[5]*t[11])&&m(e,"x",n),32&o&&m(e,"width",t[5]),8&o&&m(e,"height",t[3])},d(t){t&&u(e)}}}function G(t){let e,n;return{c(){e=s("rect"),b(e,"fill","black"),b(e,"stroke","black"),m(e,"x",n=t[7]*(t[11]+1)+t[4]*t[11]),m(e,"y","0"),m(e,"width",t[4]),m(e,"height",t[2])},m(t,n){l(t,e,n)},p(t,o){144&o&&n!==(n=t[7]*(t[11]+1)+t[4]*t[11])&&m(e,"x",n),16&o&&m(e,"width",t[4]),4&o&&m(e,"height",t[2])},d(t){t&&u(e)}}}function I(t){let e,n;return{c(){e=s("rect"),b(e,"fill","black"),b(e,"stroke","black"),m(e,"x",n=3*t[5]+t[6]*(t[11]+1)+t[4]*t[11]),m(e,"y","0"),m(e,"width",t[4]),m(e,"height",t[2])},m(t,n){l(t,e,n)},p(t,o){112&o&&n!==(n=3*t[5]+t[6]*(t[11]+1)+t[4]*t[11])&&m(e,"x",n),16&o&&m(e,"width",t[4]),4&o&&m(e,"height",t[2])},d(t){t&&u(e)}}}function V(e){let n,o,i,r=Array(7),h=[];for(let t=0;t<r.length;t+=1)h[t]=z(T(e,r,t));let f=Array(2),d=[];for(let t=0;t<f.length;t+=1)d[t]=G(B(e,f,t));let p=Array(3),y=[];for(let t=0;t<p.length;t+=1)y[t]=I(U(e,p,t));return{c(){n=s("svg");for(let t=0;t<h.length;t+=1)h[t].c();o=g();for(let t=0;t<d.length;t+=1)d[t].c();i=g();for(let t=0;t<y.length;t+=1)y[t].c();m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"xml:space","preserve"),m(n,"width",e[1]),m(n,"height",e[3])},m(t,r){l(t,n,r);for(let t=0;t<h.length;t+=1)h[t].m(n,null);c(n,o);for(let t=0;t<d.length;t+=1)d[t].m(n,null);c(n,i);for(let t=0;t<y.length;t+=1)y[t].m(n,null);e[8](n)},p(t,[e]){if(40&e){let i;for(r=Array(7),i=0;i<r.length;i+=1){const c=T(t,r,i);h[i]?h[i].p(c,e):(h[i]=z(c),h[i].c(),h[i].m(n,o))}for(;i<h.length;i+=1)h[i].d(1);h.length=r.length}if(148&e){let o;for(f=Array(2),o=0;o<f.length;o+=1){const r=B(t,f,o);d[o]?d[o].p(r,e):(d[o]=G(r),d[o].c(),d[o].m(n,i))}for(;o<d.length;o+=1)d[o].d(1);d.length=f.length}if(116&e){let o;for(p=Array(3),o=0;o<p.length;o+=1){const i=U(t,p,o);y[o]?y[o].p(i,e):(y[o]=I(i),y[o].c(),y[o].m(n,null))}for(;o<y.length;o+=1)y[o].d(1);y.length=p.length}2&e&&m(n,"width",t[1]),8&e&&m(n,"height",t[3])},i:t,o:t,d(t){t&&u(n),a(h,t),a(d,t),a(y,t),e[8](null)}}}function D(t,e,n){let o,i,r,c,{octaveWidth:l=161}=e,{blackKeyHeight:u=80}=e,{whiteKeyHeight:a=120}=e,{svg:h}=e;return t.$$set=t=>{"octaveWidth"in t&&n(1,l=t.octaveWidth),"blackKeyHeight"in t&&n(2,u=t.blackKeyHeight),"whiteKeyHeight"in t&&n(3,a=t.whiteKeyHeight),"svg"in t&&n(0,h=t.svg)},t.$$.update=()=>{2&t.$$.dirty&&n(5,o=l/7),2&t.$$.dirty&&n(4,i=l/12),48&t.$$.dirty&&n(7,r=o-2*i/3),48&t.$$.dirty&&n(6,c=o-3*i/4)},[h,l,u,a,i,o,c,r,function(t){x[t?"unshift":"push"]((()=>{h=t,n(0,h)}))}]}class F extends P{constructor(t){super(),N(this,t,D,V,r,{octaveWidth:1,blackKeyHeight:2,whiteKeyHeight:3,svg:0})}}function J(t){let e,n,i,r,a,s,f,g,b,v,w,k,_,K,A,C,E,W,L,O,M,N,P,U,B,T,z,G,I,V;function D(e){t[9](e)}let J={octaveWidth:t[0],blackKeyHeight:t[1],whiteKeyHeight:t[2]};return void 0!==t[3]&&(J.svg=t[3]),T=new F({props:J}),x.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(T,"svg",D))),{c(){var t;e=h("main"),n=h("h1"),n.textContent="Piano Keyboard Math",i=d(),r=h("blockquote"),r.innerHTML='If you&#39;ve ever looked closely at a piano keyboard you may have noticed that\n    the widths of the white keys are not all the same at the back ends (where\n    they pass between the black keys). Of course, if you think about it for a\n    minute, it&#39;s clear they couldn&#39;t possibly all be the same width, assuming\n    the black keys are all identical (with non-zero width) and the white keys\n    all have equal widths at the front ends, because the only simultaneous\n    solution of 3W=3w+2b and 4W=4w+3b is with b=0.\n\n    <a href="https://www.mathpages.com/home/kmath043.htm">Read more about the math</a>',a=d(),s=h("div"),f=h("label"),f.textContent="Octave Width",g=d(),b=h("input"),v=d(),w=h("div"),k=h("label"),k.textContent="Black Key Height",_=d(),K=h("input"),A=d(),C=h("div"),E=h("label"),E.textContent="White Key Height",W=d(),L=h("input"),O=d(),M=h("div"),N=h("button"),N.textContent="Save SVG",P=d(),U=h("button"),U.textContent="Reset",B=d(),(t=T.$$.fragment)&&t.c(),m(r,"cite","https://www.mathpages.com/home/kmath043.htm"),m(r,"class","svelte-1qq4y74"),m(f,"for","octave_width"),m(b,"id","octave_width"),m(b,"type","number"),m(k,"for","black_keys"),m(K,"id","black_keys"),m(K,"type","number"),m(E,"for","white_keys"),m(L,"id","white_keys"),m(L,"type","number")},m(o,u){l(o,e,u),c(e,n),c(e,i),c(e,r),c(e,a),c(e,s),c(s,f),c(s,g),c(s,b),$(b,t[0]),c(e,v),c(e,w),c(w,k),c(w,_),c(w,K),$(K,t[1]),c(e,A),c(e,C),c(C,E),c(C,W),c(C,L),$(L,t[2]),c(e,O),c(e,M),c(M,N),c(M,P),c(M,U),c(e,B),q(T,e,null),G=!0,I||(V=[p(b,"input",t[5]),p(K,"input",t[6]),p(L,"input",t[7]),p(N,"click",t[8]),p(U,"click",t[4])],I=!0)},p(t,[e]){1&e&&y(b.value)!==t[0]&&$(b,t[0]),2&e&&y(K.value)!==t[1]&&$(K,t[1]),4&e&&y(L.value)!==t[2]&&$(L,t[2]);const n={};var o;1&e&&(n.octaveWidth=t[0]),2&e&&(n.blackKeyHeight=t[1]),4&e&&(n.whiteKeyHeight=t[2]),!z&&8&e&&(z=!0,n.svg=t[3],o=()=>z=!1,H.push(o)),T.$set(n)},i(t){G||(j(T.$$.fragment,t),G=!0)},o(t){!function(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),(void 0).c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(T.$$.fragment,t),G=!1},d(t){t&&u(e),S(T),I=!1,o(V)}}}function Q(t,e,n){let o,i=161,r=80,c=120;return[i,r,c,o,function(){n(0,i=161),n(1,r=80),n(2,c=120)},function(){i=y(this.value),n(0,i)},function(){r=y(this.value),n(1,r)},function(){c=y(this.value),n(2,c)},()=>function(t,e="download.svg"){const n=t.outerHTML,o=new Blob([n],{type:"image/svg+xml"}),i=URL.createObjectURL(o),r=document.createElement("a");r.href=i,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i)}(o),function(t){o=t,n(3,o)}]}return new class extends P{constructor(t){super(),N(this,t,Q,J,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
